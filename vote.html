<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vote - GovtInsight</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            top: 0;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
        }

        header {
        padding: 6px;
        width: 100%;
        max-width: 1200px;
        position: fixed;
        z-index: 50;
        margin-left: 0;
        display: flex;
        align-items: center;
        background: white;
        border-bottom: 1.5px solid lightgrey;
    }
    header img {
        position: relative;
        margin-right: 10px;
        margin-left: 15px;
        width: 30px;
        border-radius: 50%;
    }
    header p {
        display: inline;
        margin-left: 10px;
        position: relative;
        font-size: 18px;
        font-weight: bold;
}
        nav ul {
            list-style: none;
            display: flex;
            gap: 20px;
        }

        nav ul li {
            display: inline;
        }

        nav ul li a {
            color: black;
            text-decoration: none;
            font-weight: bold;
        }
        .container { 
            max-width: 600px; 
            margin: auto; 
        }
        select, button { 
            margin: 10px; 
            padding: 10px; 
            font-size: 16px; 
        }
        
    </style>
</head>
<body>
<header>
    <img src="https://i.ibb.co/5WKtkt4t/file-2-SUg-Bt8co-NEz4j4-KSh-WFn-N.webp">
    <span style="color: grey;">|</span>
    <p>GovtInsight</p>
        <nav>
            <ul>
                <li><a href="https://harshna044.github.io/GovtInsight/index.html">Home</a></li>
                <li><a href="https://harshna044.github.io/GovtInsight/promise.html">Policies</a></li>
                <li><a href="https://harshna044.github.io/GovtInsight/vote.html">Vote</a></li>
                <li><a href="#">Complaints</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
        </nav>
    </header>
<br><br><br><br><br><br>
<div class="container">
    <h2>Vote on the Election Manifesto</h2>
    <label for="voteOption">Select your vote:</label>
    <select id="voteOption">
        <option value="support">✅ Support</option>
        <option value="oppose">❌ Oppose</option>
    </select>
    <button onclick="submitVote()">Submit Vote</button>

    <h3>Voting Results</h3>
    <canvas id="voteChart"></canvas>
</div>

<script>
    let votes = { support: 0, oppose: 0 };
    let voteChart;

    // Initialize the chart when the page loads
    function initializeChart() {
        let ctx = document.getElementById('voteChart').getContext('2d');
        voteChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['Support', 'Oppose'],
                datasets: [{
                    data: [votes.support, votes.oppose],
                    backgroundColor: ['green', 'red']
                }]
            }
        });
    }

    // Submit vote and update chart
    function submitVote() {
        let voteOption = document.getElementById("voteOption").value;
        votes[voteOption]++;

        // Update the chart dynamically
        voteChart.data.datasets[0].data = [votes.support, votes.oppose];
        voteChart.update();

        alert("Your vote has been submitted!");
    }

    // Load chart on window load
    window.onload = initializeChart;
</script>

</body>
</html>
